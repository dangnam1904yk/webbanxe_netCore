@using webbanxe.Models;
@using webbanxe.Utilities;

<!-- Blog Start -->
<div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
    <div class="container py-5" style="padding-top:128px !important">
        <div class="row g-5">
            <!-- Blog list Start -->
            <div class="col-lg-8">
                <div class="row g-5">
                    @if (ViewBag.ListBike != null)
                    {
                        @foreach (var item in ViewBag.ListBike.Items)
                        {
                            string url = Functions.TitleSlugGenerationReves("", item.IdBike, item.NameBike);
                            string image = item.ImageBike.Split(";")[0];
                            <div class="col-md-6 wow slideInUp" data-wow-delay="0.1s">
                                <div class="blog-item bg-light rounded overflow-hidden">
                                    <div class="blog-img position-relative overflow-hidden">
                                        <img class="img-fluid" src="~/img/@image" alt="Ảnh xe" style="width:-webkit-fill-available">
                                        <a class="position-absolute top-0 start-0 bg-primary text-white rounded-end mt-5 py-2 px-4" href="">@((item.price - (item.price * item.PricePromotion)).ToString("#,##0.0")) vnđ</a>
                                    </div>
                                    <div class="p-4">

                                        <h4 class="mb-3">@item.NameBike </h4>
                                        <p> <a href="./add-to-cart/@(item.IdBike).html"> Thêm vào giỏ hàng</a></p>
                                        <div class="d-flex mb-3">

                                            <small><i class="far fa-calendar-alt text-primary me-2"></i> Số lượng : @item.Quantity</small>
                                        </div>
                                        <a class="text-uppercase" href="/@url">Xem thêm <i class="bi bi-arrow-right"></i></a>
                                    </div>
                                </div>
                            </div>
                        }
                        <div class="col-12 wow slideInUp" data-wow-delay="0.1s">
                            <nav aria-label="Page navigation">
                                <ul class="pagination pagination-lg m-0">
                                    <li class="page-item @(ViewBag.ListBike.HasPreviousPage ? "" : "disabled") ">
                                        <a class="page-link rounded-0" href="~/cho-xe-4.html?page=@(ViewBag.ListBike.PageIndex-1)&size=2" aria-label="Previous">
                                            <span aria-hidden="true"><i class="bi bi-arrow-left"></i></span>
                                        </a>
                                    </li>
                                    @for (int i = 1; i <= ViewBag.ListBike.TotalPages; i++)
                                    {
                                        <li class="page-item @(ViewBag.ListBike.PageIndex == i ? "active" : "")"><a class="page-link" href="~/cho-xe-4.html?page=@i&size=2">@i</a></li>
                                    }


                                    <li class="page-item @(ViewBag.ListBike.HasNextPage ? "" : "disabled") ">
                                        <a class="page-link rounded-0" href="~/cho-xe-4.html?page=@(ViewBag.ListBike.PageIndex+1)&size=2" aria-label="Next">
                                            <span aria-hidden="true"><i class="bi bi-arrow-right"></i></span>
                                        </a>
                                    </li>

                                </ul>
                            </nav>
                        </div>
                    }

                    @if (ViewBag.ListAccessary != null)
                    {
                        @foreach (var item in ViewBag.ListAccessary.Items)
                        {
                            string image = item.ImageAccessary.Split(";")[0];
                            <div class="col-md-6 wow slideInUp" data-wow-delay="0.1s">
                                <div class="blog-item bg-light rounded overflow-hidden">
                                    <div class="blog-img position-relative overflow-hidden">
                                        <img class="img-fluid" src="~/img/@image" alt="Ảnh xe" style="width:-webkit-fill-available">
                                        <a class="position-absolute top-0 start-0 bg-primary text-white rounded-end mt-5 py-2 px-4" href="">@((item.Price - (item.Price * item.PricePromotion)).ToString("#,##0.0")) vnđ</a>
                                    </div>
                                    <div class="p-4">

                                        <h4 class="mb-3">@item.NameAccessary </h4>
                                        <p> <a href="./add-to-cart-accesary/@(item.IdAccessary).html"> Thêm vào giỏ hàng</a></p>
                                        <div class="d-flex mb-3">

                                            <small><i class="far fa-calendar-alt text-primary me-2"></i> Số lượng : @item.Quantity</small>
                                        </div>
                                        <a class="text-uppercase" href="/@(item.IdAccessary)/phu-kien.html">Xem thêm <i class="bi bi-arrow-right"></i></a>
                                    </div>
                                </div>
                            </div>
                        }
                        <div class="col-12 wow slideInUp" data-wow-delay="0.1s">
                            <nav aria-label="Page navigation">
                                <ul class="pagination pagination-lg m-0">
                                    <li class="page-item @(ViewBag.ListAccessary.HasPreviousPage ? "" : "disabled") ">
                                        <a class="page-link rounded-0" href="~/phu-kien-12.html?page=@(ViewBag.ListAccessary.PageIndex-1)&size=2" aria-label="Previous">
                                            <span aria-hidden="true"><i class="bi bi-arrow-left"></i></span>
                                        </a>
                                    </li>
                                    @for (int i = 1; i <= ViewBag.ListAccessary.TotalPages; i++)
                                    {
                                        <li class="page-item @(ViewBag.ListAccessary.PageIndex == i ? "active" : "")"><a class="page-link" href="~/phu-kien-12.html?page=@i&size=2">@i</a></li>
                                    }


                                    <li class="page-item @(ViewBag.ListAccessary.HasNextPage ? "" : "disabled") ">
                                        <a class="page-link rounded-0" href="~/phu-kien-12.html?page=@(ViewBag.ListAccessary.PageIndex+1)&size=2" aria-label="Next">
                                            <span aria-hidden="true"><i class="bi bi-arrow-right"></i></span>
                                        </a>
                                    </li>

                                </ul>
                            </nav>
                        </div>
                    }

                    @if (ViewBag.ListPost != null)
                    {
                        string url0 = "";
                        string img0 = "";
                        string title0 = "";
                        <div id="header-carousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
                            <div class="carousel-inner">

                                @foreach (var item in ViewBag.ListPost.Items)
                                {
                                    url0 = Functions.TitleSlugGeneration("", item.Title, item.PostID);
                                    img0 = item.Images;
                                    title0 = item.Title;
                                    string url = Functions.TitleSlugGeneration("", item.Title, item.PostID);

                                    <div class="carousel-item">
                                        <img class="w-100" src="~/img/@item.Images" alt="Image">
                                        <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                                            <div class="p-3" style="max-width: 900px;">
                                                <h5 class="text-white text-uppercase mb-3 animated slideInDown">@item.Title</h5>

                                                <a href="/post/@url" class="btn btn-primary py-md-3 px-md-5 me-3 animated slideInLeft">Chi tiết</a>
                                                <a href="" class="btn btn-outline-light py-md-3 px-md-5 animated slideInRight">Liên hệ BuyUrBike</a>
                                            </div>
                                        </div>
                                    </div>
                                }
                                <div class="carousel-item active">
                                    <img class="w-100" src="~/img/@img0" alt="Image">
                                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                                        <div class="p-3" style="max-width: 900px;">
                                            <h5 class="text-white text-uppercase mb-3 animated slideInDown">@title0</h5>

                                            <a href="/post/@url0" class="btn btn-primary py-md-3 px-md-5 me-3 animated slideInLeft">Chi tiết</a>
                                            <a href="" class="btn btn-outline-light py-md-3 px-md-5 animated slideInRight">Liên hệ BuyUrBike</a>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#header-carousel"
                                    data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#header-carousel"
                                    data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>

                    }

                </div>
            </div>
            <!-- Blog list End -->
            <!-- Sidebar Start -->
            <div class="col-lg-4">
                <!-- Search Form Start -->
                <div class="mb-5 wow slideInUp" data-wow-delay="0.1s">

                    <form action="./cho-xe-4.html">
                        <div class="input-group">
                            <input type="text" class="form-control p-3" name="search" placeholder="Từ khoá">
                            <button type="submit" class="btn btn-primary px-4"><i class="bi bi-search"></i></button>
                        </div>
                    </form>

                </div>
                <!-- Search Form End -->
                <!-- Category Start -->
                <div class="mb-5 wow slideInUp" data-wow-delay="0.1s">
                    <div class="section-title section-title-sm position-relative pb-3 mb-4">
                        <h3 class="mb-0">Thể loại</h3>
                    </div>
                    <div class="link-animated d-flex flex-column justify-content-start">

                        @if (ViewBag.ListType != null)
                        {
                            @foreach (var item in ViewBag.ListType)
                            {
                                string url1 = Functions.TitleSlugGeneration("", (String)item.NameType, (long)item.IdType);
                                <a class="h5 fw-semi-bold bg-light rounded py-2 px-3 mb-2" href="/@url1"><i class="bi bi-arrow-right me-2"></i>@item.NameType</a>
                            }
                        }

                    </div>
                </div>



                <!-- Category End -->
                <!-- Recent Post Start -->
                <div class="mb-5 wow slideInUp" data-wow-delay="0.1s">
                    <div class="section-title section-title-sm position-relative pb-3 mb-4">
                        <h3 class="mb-0">Bài viết gần đây</h3>
                    </div>
                    @foreach (var item in ViewBag.ListPostCurrent)
                    {
                        string url = Functions.TitleSlugGeneration("", item.Title, item.PostID);
                        <div class="d-flex rounded overflow-hidden mb-3">
                            <img class="img-fluid" src="img/@item.Images" style="width: 100px; height: 100px; object-fit: cover;" alt="">
                            <a href="/post/@url" class="h5 fw-semi-bold d-flex align-items-center bg-light px-3 mb-0">
                                @item.Title
                            </a>
                        </div>
                    }

                </div>
                <!-- Recent Post End -->
                <!-- Image Start -->
                <div class="mb-5 wow slideInUp" data-wow-delay="0.1s">
                    <img src="img/blog-1.jpg" alt="" class="img-fluid rounded">
                </div>
                <!-- Image End -->
                <!-- Tags Start -->
                <div class="mb-5 wow slideInUp" data-wow-delay="0.1s">
                    <div class="section-title section-title-sm position-relative pb-3 mb-4">
                        <h3 class="mb-0">Tag Cloud</h3>
                    </div>
                    <div class="d-flex flex-wrap m-n1">
                        <a href="" class="btn btn-light m-1">Design</a>
                        <a href="" class="btn btn-light m-1">Development</a>
                        <a href="" class="btn btn-light m-1">Marketing</a>
                        <a href="" class="btn btn-light m-1">SEO</a>
                        <a href="" class="btn btn-light m-1">Writing</a>
                        <a href="" class="btn btn-light m-1">Consulting</a>
                        <a href="" class="btn btn-light m-1">Design</a>
                        <a href="" class="btn btn-light m-1">Development</a>
                        <a href="" class="btn btn-light m-1">Marketing</a>
                        <a href="" class="btn btn-light m-1">SEO</a>
                        <a href="" class="btn btn-light m-1">Writing</a>
                        <a href="" class="btn btn-light m-1">Consulting</a>
                    </div>
                </div>
                <!-- Tags End -->
            </div>
            <!-- Sidebar End -->
        </div>
    </div>
</div>
<!-- Blog End -->
